<html>
  <head>
    <title>Map</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
    <link rel="stylesheet" href="css/L.Control.MapCenterCoord.min.css" />
    <link rel="stylesheet" href="css/L.Control.Layers.Tree.css" crossorigin=""/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/L.Control.Locate.min.css" />

    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
    <script src="js/L.Control.MapCenterCoord.js"></script>
    <script src="js/L.Control.Layers.Tree.js"></script>
    <script src="js/L.Control.Locate.min.js" charset="utf-8"></script>

    <style>
      #map{ width: 100%; height: 100%; }
    </style>

  </head>

  <body>
    <div id="map"></div>
    <style>
      body {
        padding: 0;
        margin: 0;
      }
      html, body, #map {
        height: 100%;
        width: 100vw;
      }
    </style>

    <script type="text/javascript">
      var center = [-21, 118];
      // Define some base layers
      var osm = L.tileLayer(
        '//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
      );
      var osmHOT = L.tileLayer(
        'https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png',
      );
      var otopomap = L.tileLayer(
        '//{s}.tile.opentopomap.org/{z}/{x}/{y}.png',
      );

      var esriworldimagery = L.tileLayer(
        'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',

      );
      var cycle = L.tileLayer(
        '//{s}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png',

      );
      // The tree containing the layers
      var baseTree = [
        {
          label: 'OpenStreeMap',
          children: [
            {label: 'OpenStreetMap', layer: osm, name: 'OpenStreeMap'},
            {label: 'HumanitarianOSM', layer: osmHOT, name: 'OpenStreeMap <b>Humanitarian OSM</b>'},
            {label: 'OpenTopoMap', layer: otopomap, name: 'Topographic - OSM'},
          ]
        },
        {
          label: 'ESRI',
          children: [
            {label: 'Cycle', layer: cycle},
            {label: 'World Imagery', layer: esriworldimagery},
          ]
        },
      ];
      // The map
      var map = L.map('map', {
        layers: [osm],
        center: center,
        zoom: 3
      });
      L.control.layers.tree(baseTree).addTo(map);
      L.control.mapCenterCoord().addTo(map);
      L.control.locate().addTo(map);
      
      map.locate({setView: true, maxZoom: 16});
    </script>

  </body>
</html>
